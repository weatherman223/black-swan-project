This file consists of the python scripts used for the project H11Q-1097 - Analyzing Extreme Rainfall Trends in Climate Models in Kerr County, TX. Although this code is primarily made and entered defaultly with info for the target area, the user is able to adjust the code to get data for any grid cell point in the world. 

This dataset relies on CESM Large Ensemble precipitation data, which you can download off the NSF Geoscience Data Exchange at https://gdex.ucar.edu/datasets/d651056/dataaccess/# and by going to “CESM Large Ensemble” and downloading all files with the “PRECT” tag to a directory of your choice. Please make sure you save the path of this directory, as it will be referenced heavily in the code. 

Included are multiple files to run and plot extreme precipitation events:

- A list of textfiles, which the code references via pattern matching. Make sure you have these files in a directory, and to replace the “your directory here” with the directory they are stored in. These are required for the program to run, but I do not doubt that other solutions exist to loop through everything! This is what I found easiest when making it. 
- ensembleparser.py, which is a script that creates wild card names for the models that can be extracted to a text file. This was used to create the text files, and can be used to create similar ensemble pattern text files with different datasets. 
- zarrscript.py, a file that transforms a dataset of NetCDF files into a referencable zarr. This was used for the historical datasets as it was a primarily static dataset that did not change. Future work can likely apply this to the simulated datasets. 
- 100plots.py, which produces an extrema plot for each singular ensemble member for the selected region. This allows you to view each individual run and to see which extrema are the highest in each model to allow for individual exploration. The plot on the bottom left corner of the poster was created with this plot. 
- - With some standard knowledge of for loops, you can generate singular plots with this, by changing “start” to the number of your choice and cutting it off at the next number. 
- scatterplotmaxima.py, which produces the scatterplots for the region. It marks the historical mean, the 4 sigma threshold, and the 10 sigma threshold via dotted lines, and plots each ensembles annual maxima as a small black dot on the graph. If it exceeds the thresholds, a color is added to the dot to signify this. Historical and Future datasets are split and can be graphed separately. The top, and top middle plots in the “Results” section are plotted from this program. 
- - Currently, this file is set up to graph the historical simulation data. To graph future/simulated ensemble data (as the second plot shows), change the “step 3” code from the “historicalensembles.txt” pattern to the “futureensembles.txt” pattern. Make sure you change all titles of the plots!
- - Please note this program can be intensive and can take sometimes upwards of 2-3 hours to run. I strongly recommend running this with a “nohup” command to make sure you do not lose work. As well, test your output with a small dataset first to ensure your graphs are what you want them to be! (I learned this the hard way)
- histograms.py, which produces the histograms for the region. Like the scatterplots program, it also marks the historical, 4 sigma, and 10 sigma event thresholds, but instead of plotting all the annual maxima into a scatterplot, it instead sorts them into buckets. Historical and Future datasets are split and can be graphed separately. The bottom middle, and bottom plots in the “Results” section are plotted from this program. 
- - Currently, this file is set up to graph the historical simulation data. To graph future/simulated ensemble data (as the second plot shows), change the “step 3” code from the “historicalensembles.txt” pattern to the “futureensembles.txt” pattern. Make sure you change all titles of the plots!
- - Please note this program can be intensive and can take sometimes upwards of 2-3 hours to run. I strongly recommend running this with a “nohup” command to make sure you do not lose work. As well, test your output with a small dataset first to ensure your graphs are what you want them to be! (I learned this the hard way)

This code is under an MIT license, and you’re welcome to use this code for yourself to conduct your own research, projects, etc. Just make sure to keep copyright notices, etc. Credit is not required but would be much appreciated, I would love to see anyone improve on this work or to turn it into something new!
